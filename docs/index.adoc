= Agorapulse Micronaut Libaries

[.ribbon]
image::ribbon.png[link={projectUrl}]

image::https://api.bintray.com/packages/agorapulse/libs/micronaut-http-server-basic/images/download.svg[link="https://bintray.com/agorapulse/libs/micronaut-http-server-basic/_latestVersion"]

Set of useful libraries for http://micronaut.io[Micronaut]. All of the libraries are available in https://bintray.com/bintray/jcenter[JCenter Maven repository].


== AWS SDK for Micronaut

AWS SDK for Micronaut is a successor of https://github.com/agorapulse/grails-aws-sdk[Grails AWS SDK Plugin].
If you are https://github.com/agorapulse/grails-aws-sdk[Grails AWS SDK Plugin] user you should find many of services familiar.

Provided integrations:

* <<DynamoDB>>
* <<Kinesis>>
* <<Simple Storage Service (S3)>>
* <<Simple Email Service (SES)>>
* <<Simple Notification Service (SNS)>>
* <<Simple Queue Service (SQS)>>

NOTE: <<API Gateway Proxy Integration>> is handled separately in its own library.

Key concepts of the AWS SDK for Micronaut:

*   Fully leveraging of Micronaut best practises
** Low-level API clients such as `AmazonDynamoDB` available for dependency injection
** Declarative clients and services such as `@KinesisListener` where applicable
** Configuration driven named service beans
** Sensible defaults
** Conditional beans based on presence of classes on the classpath or on the presence of specific properties
* Fully leveraging existing AWS SDK configuration chains (e.g. https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/DefaultAWSCredentialsProviderChain.html[default credential provider chain], https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/regions/DefaultAwsRegionProviderChain.html[default region provider chain])
* Strong focus on the ease of testing
** Low-level API clients such as `AmazonDynamoDB` injected by Micronaut and overridable in the tests
** All high-level services hidden behind an interface for easy mocking in the tests
** Declarative clients and services for easy mocking in the tests
* Java-enabled but Groovy is a first-class citizen

In this documentation, the high-level approaches will be discussed first before the lower-level services.

=== Installation

[source,indent=0,role="primary",subs='verbatim,attributes']
.Gradle
----
compile 'com.agorapulse:micronaut-aws-sdk:{version}'

// only required for DynamoDB and Kinesis integration
compile group: 'com.amazonaws', name: 'aws-java-sdk-dynamodb', version: '1.11.470'

// only required for Kinesis integration
compile group: 'com.amazonaws', name: 'amazon-kinesis-client', version: '1.9.3'
compile group: 'com.amazonaws', name: 'aws-java-sdk-kinesis', version: '1.11.470'

// only required for S3 integration
compile group: 'com.amazonaws', name: 'aws-java-sdk-s3', version: '1.11.470'

// only required for SES integration
compile group: 'com.amazonaws', name: 'aws-java-sdk-ses', version: '1.11.470'

// only required for SNS integration
compile group: 'com.amazonaws', name: 'aws-java-sdk-sns', version: '1.11.470'

// only required for SQS integration
compile group: 'com.amazonaws', name: 'aws-java-sdk-sqs', version: '1.11.470'
----

[source,xml,indent=0,role="secondary",subs='verbatim,attributes']
.Maven
----
<dependency>
    <groupId>com.agorapulse</groupId>
    <artifactId>micronaut-aws-sdk</artifactId>
    <version>{version}</version>
</dependency>

<!-- only required for DynamoDB and Kinesis integration -->
<dependency>
    <groupId>com.amazonaws</groupId>
    <artifactId>aws-java-sdk-dynamodb</artifactId>
    <version>1.11.470</version>
</dependency>

<!-- only required for Kinesis integration -->
<dependency>
    <groupId>com.amazonaws</groupId>
    <artifactId>amazon-kinesis-client</artifactId>
    <version>1.9.3</version>
</dependency>

<dependency>
    <groupId>com.amazonaws</groupId>
    <artifactId>aws-java-sdk-kinesis</artifactId>
    <version>1.11.470</version>
</dependency>

<!-- only required for S3 integration -->
<dependency>
    <groupId>com.amazonaws</groupId>
    <artifactId>aws-java-sdk-s3</artifactId>
    <version>1.11.470</version>
</dependency>

<!-- only required for SES integration -->
<dependency>
    <groupId>com.amazonaws</groupId>
    <artifactId>aws-java-sdk-ses</artifactId>
    <version>1.11.470</version>
</dependency>

<!-- only required for SNS integration -->
<dependency>
    <groupId>com.amazonaws</groupId>
    <artifactId>aws-java-sdk-sns</artifactId>
    <version>1.11.470</version>
</dependency>

<!-- only required for SQS integration -->
<dependency>
    <groupId>com.amazonaws</groupId>
    <artifactId>aws-java-sdk-sqs</artifactId>
    <version>1.11.470</version>
</dependency>
----

include::dynamodb.adoc[]

include::kinesis.adoc[]

include::s3.adoc[]

include::ses.adoc[]

include::sns.adoc[]

include::sqs.adoc[]


== Maintained by

image::https://cloud.githubusercontent.com/assets/139017/17053391/4a44735a-5034-11e6-8e72-9f4b7139d7e0.png[link=https://www.agorapulse.com/]
